<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.48">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>Kibana | 酷PHP</title><meta name="description" content="">
    <link rel="modulepreload" href="/assets/app.57e67b55.js"><link rel="modulepreload" href="/assets/kibana.html.2ef6c590.js"><link rel="modulepreload" href="/assets/kibana.html.876ebba9.js"><link rel="prefetch" href="/assets/index.html.90549cdd.js"><link rel="prefetch" href="/assets/index.html.656d396e.js"><link rel="prefetch" href="/assets/index.html.77a2396d.js"><link rel="prefetch" href="/assets/index.html.62c8e88e.js"><link rel="prefetch" href="/assets/css.html.6574460a.js"><link rel="prefetch" href="/assets/html.html.f16349a1.js"><link rel="prefetch" href="/assets/javascript.html.bbd038d7.js"><link rel="prefetch" href="/assets/index.html.efa7dafb.js"><link rel="prefetch" href="/assets/index.html.bdc4bc53.js"><link rel="prefetch" href="/assets/index.html.fc1f4703.js"><link rel="prefetch" href="/assets/index.html.dc5a4503.js"><link rel="prefetch" href="/assets/index.html.e780125e.js"><link rel="prefetch" href="/assets/commands.html.cf72ded8.js"><link rel="prefetch" href="/assets/communication.html.eb0d37ac.js"><link rel="prefetch" href="/assets/io.html.0e66ec77.js"><link rel="prefetch" href="/assets/memory.html.bc65e83a.js"><link rel="prefetch" href="/assets/networking.html.a7002b9b.js"><link rel="prefetch" href="/assets/posix.html.596e42fa.js"><link rel="prefetch" href="/assets/principle.html.41dc124e.js"><link rel="prefetch" href="/assets/process.html.5d1fafae.js"><link rel="prefetch" href="/assets/terminal.html.64717483.js"><link rel="prefetch" href="/assets/threads.html.f00d3ea1.js"><link rel="prefetch" href="/assets/index.html.0ccf8936.js"><link rel="prefetch" href="/assets/index.html.5921dfe6.js"><link rel="prefetch" href="/assets/github.html.7aa28177.js"><link rel="prefetch" href="/assets/index.html.720933a9.js"><link rel="prefetch" href="/assets/index.html.34eeab54.js"><link rel="prefetch" href="/assets/index.html.dc3fbfd6.js"><link rel="prefetch" href="/assets/index.html.c9355880.js"><link rel="prefetch" href="/assets/index.html.5b42fd75.js"><link rel="prefetch" href="/assets/index.html.2804c352.js"><link rel="prefetch" href="/assets/index.html.b1c1cd61.js"><link rel="prefetch" href="/assets/index.html.177a64a2.js"><link rel="prefetch" href="/assets/index.html.226bafa1.js"><link rel="prefetch" href="/assets/index.html.4636893f.js"><link rel="prefetch" href="/assets/index.html.3985f4d0.js"><link rel="prefetch" href="/assets/index.html.e3300751.js"><link rel="prefetch" href="/assets/index.html.24c05137.js"><link rel="prefetch" href="/assets/basic.html.b94447a6.js"><link rel="prefetch" href="/assets/index.html.1a747def.js"><link rel="prefetch" href="/assets/index.html.2d1a2734.js"><link rel="prefetch" href="/assets/index.html.d3734764.js"><link rel="prefetch" href="/assets/index.html.baf63ebb.js"><link rel="prefetch" href="/assets/index.html.445766e1.js"><link rel="prefetch" href="/assets/index.html.7a269ee6.js"><link rel="prefetch" href="/assets/index.html.d299901b.js"><link rel="prefetch" href="/assets/index.html.977ddc7a.js"><link rel="prefetch" href="/assets/index.html.35bd3bea.js"><link rel="prefetch" href="/assets/index.html.f71e4ea2.js"><link rel="prefetch" href="/assets/control.html.44698484.js"><link rel="prefetch" href="/assets/index.html.8a9aa0da.js"><link rel="prefetch" href="/assets/index.html.676e443d.js"><link rel="prefetch" href="/assets/index.html.62e98396.js"><link rel="prefetch" href="/assets/index.html.13a1381a.js"><link rel="prefetch" href="/assets/404.html.265028f6.js"><link rel="prefetch" href="/assets/index.html.6644a01c.js"><link rel="prefetch" href="/assets/index.html.edfb1b37.js"><link rel="prefetch" href="/assets/index.html.0a3ba26c.js"><link rel="prefetch" href="/assets/index.html.6b9e0fc8.js"><link rel="prefetch" href="/assets/css.html.82dc88f5.js"><link rel="prefetch" href="/assets/html.html.c723c9fe.js"><link rel="prefetch" href="/assets/javascript.html.37544557.js"><link rel="prefetch" href="/assets/index.html.6ccf3580.js"><link rel="prefetch" href="/assets/index.html.a17aba3d.js"><link rel="prefetch" href="/assets/index.html.04481a7a.js"><link rel="prefetch" href="/assets/index.html.3bbc96da.js"><link rel="prefetch" href="/assets/index.html.f3429314.js"><link rel="prefetch" href="/assets/commands.html.ba821b49.js"><link rel="prefetch" href="/assets/communication.html.e9744943.js"><link rel="prefetch" href="/assets/io.html.8d9e6a20.js"><link rel="prefetch" href="/assets/memory.html.a992097d.js"><link rel="prefetch" href="/assets/networking.html.374adc8f.js"><link rel="prefetch" href="/assets/posix.html.60ab84f1.js"><link rel="prefetch" href="/assets/principle.html.5bd2659a.js"><link rel="prefetch" href="/assets/process.html.d88f4ffa.js"><link rel="prefetch" href="/assets/terminal.html.ca46b60f.js"><link rel="prefetch" href="/assets/threads.html.4164d5ae.js"><link rel="prefetch" href="/assets/index.html.3a011ac1.js"><link rel="prefetch" href="/assets/index.html.9135426f.js"><link rel="prefetch" href="/assets/github.html.01fb7bef.js"><link rel="prefetch" href="/assets/index.html.2cccdd8a.js"><link rel="prefetch" href="/assets/index.html.c641d4ac.js"><link rel="prefetch" href="/assets/index.html.56d14db5.js"><link rel="prefetch" href="/assets/index.html.563c305b.js"><link rel="prefetch" href="/assets/index.html.a84c9c7c.js"><link rel="prefetch" href="/assets/index.html.6f2a5438.js"><link rel="prefetch" href="/assets/index.html.c9961af0.js"><link rel="prefetch" href="/assets/index.html.6bb43391.js"><link rel="prefetch" href="/assets/index.html.44708d17.js"><link rel="prefetch" href="/assets/index.html.c56af617.js"><link rel="prefetch" href="/assets/index.html.d46b055e.js"><link rel="prefetch" href="/assets/index.html.a310f3ba.js"><link rel="prefetch" href="/assets/index.html.491782f7.js"><link rel="prefetch" href="/assets/basic.html.75ad7cf8.js"><link rel="prefetch" href="/assets/index.html.7c06e612.js"><link rel="prefetch" href="/assets/index.html.fc48ae34.js"><link rel="prefetch" href="/assets/index.html.6e2c6003.js"><link rel="prefetch" href="/assets/index.html.1b51daa9.js"><link rel="prefetch" href="/assets/index.html.8072c493.js"><link rel="prefetch" href="/assets/index.html.e55a44a5.js"><link rel="prefetch" href="/assets/index.html.5df9af17.js"><link rel="prefetch" href="/assets/index.html.cee50083.js"><link rel="prefetch" href="/assets/index.html.1cc5929e.js"><link rel="prefetch" href="/assets/index.html.dbcb14af.js"><link rel="prefetch" href="/assets/control.html.a2ee8280.js"><link rel="prefetch" href="/assets/index.html.f1542a42.js"><link rel="prefetch" href="/assets/index.html.0655da06.js"><link rel="prefetch" href="/assets/index.html.00ee9b71.js"><link rel="prefetch" href="/assets/index.html.0cea553d.js"><link rel="prefetch" href="/assets/404.html.7b2737b1.js"><link rel="prefetch" href="/assets/404.769c43c9.js"><link rel="prefetch" href="/assets/Layout.156be7ba.js">
    <link rel="stylesheet" href="/assets/style.acf36ec1.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">酷PHP</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/knowledge" class="router-link-active" aria-label="知识体系"><!--[--><!--]--> 知识体系 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="资源"><span class="title">资源</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="资源"><span class="title">资源</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://slate.kuphp.co" rel="noopener noreferrer" target="_blank" aria-label="slate 中文文档"><!--[--><!--]--> slate 中文文档 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/knowledge" class="router-link-active" aria-label="知识体系"><!--[--><!--]--> 知识体系 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="资源"><span class="title">资源</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="资源"><span class="title">资源</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://slate.kuphp.co" rel="noopener noreferrer" target="_blank" aria-label="slate 中文文档"><!--[--><!--]--> slate 中文文档 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/knowledge/internet/README.md" class="sidebar-item sidebar-heading" aria-label="互联网"><!--[--><!--]--> 互联网 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/knowledge/internet/internet-work/" class="sidebar-item" aria-label="互联网工作方式"><!--[--><!--]--> 互联网工作方式 <!--[--><!--]--></a><!----></li><li><a href="/knowledge/internet/http/" class="sidebar-item" aria-label="HTTP"><!--[--><!--]--> HTTP <!--[--><!--]--></a><!----></li><li><a href="/knowledge/internet/browser-work/" class="sidebar-item" aria-label="浏览器工作方式"><!--[--><!--]--> 浏览器工作方式 <!--[--><!--]--></a><!----></li><li><a href="/knowledge/internet/dns/" class="sidebar-item" aria-label="DNS"><!--[--><!--]--> DNS <!--[--><!--]--></a><!----></li><li><a href="/knowledge/internet/domain_name/" class="sidebar-item" aria-label="域名"><!--[--><!--]--> 域名 <!--[--><!--]--></a><!----></li><li><a href="/knowledge/internet/hosting/" class="sidebar-item" aria-label="托管"><!--[--><!--]--> 托管 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/knowledge/frontend/README.md" class="sidebar-item sidebar-heading" aria-label="前端"><!--[--><!--]--> 前端 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/knowledge/frontend/html.html" class="sidebar-item" aria-label="HTML"><!--[--><!--]--> HTML <!--[--><!--]--></a><!----></li><li><a href="/knowledge/frontend/css.html" class="sidebar-item" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a><!----></li><li><a href="/knowledge/frontend/javascript.html" class="sidebar-item" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/knowledge/os/README.md" class="sidebar-item sidebar-heading" aria-label="操作系统"><!--[--><!--]--> 操作系统 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/knowledge/os/terminal.html" class="sidebar-item" aria-label="终端"><!--[--><!--]--> 终端 <!--[--><!--]--></a><!----></li><li><a href="/knowledge/os/principle.html" class="sidebar-item" aria-label="工作原理"><!--[--><!--]--> 工作原理 <!--[--><!--]--></a><!----></li><li><a href="/knowledge/os/process.html" class="sidebar-item" aria-label="进程管理"><!--[--><!--]--> 进程管理 <!--[--><!--]--></a><!----></li><li><a href="/knowledge/os/threads.html" class="sidebar-item" aria-label="线程和并发"><!--[--><!--]--> 线程和并发 <!--[--><!--]--></a><!----></li><li><a href="/knowledge/os/commands.html" class="sidebar-item" aria-label="基础终端命令"><!--[--><!--]--> 基础终端命令 <!--[--><!--]--></a><!----></li><li><a href="/knowledge/os/memory.html" class="sidebar-item" aria-label="内存管理"><!--[--><!--]--> 内存管理 <!--[--><!--]--></a><!----></li><li><a href="/knowledge/os/communication.html" class="sidebar-item" aria-label="进程间通信"><!--[--><!--]--> 进程间通信 <!--[--><!--]--></a><!----></li><li><a href="/knowledge/os/io.html" class="sidebar-item" aria-label="I/O管理"><!--[--><!--]--> I/O管理 <!--[--><!--]--></a><!----></li><li><a href="/knowledge/os/posix.html" class="sidebar-item" aria-label="POSIX 基础"><!--[--><!--]--> POSIX 基础 <!--[--><!--]--></a><!----></li><li><a href="/knowledge/os/networking.html" class="sidebar-item" aria-label="基础网络概念"><!--[--><!--]--> 基础网络概念 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/knowledge/language/php/README.md" class="sidebar-item sidebar-heading" aria-label="编程语言"><!--[--><!--]--> 编程语言 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/knowledge/language/golang/" class="sidebar-item" aria-label="Golang"><!--[--><!--]--> Golang <!--[--><!--]--></a><!----></li><li><a href="/knowledge/language/javascript/" class="sidebar-item" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/knowledge/version_control/README.md" class="sidebar-item sidebar-heading" aria-label="版本控制"><!--[--><!--]--> 版本控制 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/knowledge/version_control/git/" class="sidebar-item" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/knowledge/repo_hosting/README.md" class="sidebar-item sidebar-heading" aria-label="资源托管服务"><!--[--><!--]--> 资源托管服务 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/knowledge/repo_hosting/github.html" class="sidebar-item" aria-label="GitHub"><!--[--><!--]--> GitHub <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/knowledge/relational_databases/README.md" class="sidebar-item sidebar-heading" aria-label="关系型数据库"><!--[--><!--]--> 关系型数据库 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/knowledge/relational_databases/mysql/" class="sidebar-item" aria-label="MySQL"><!--[--><!--]--> MySQL <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/knowledge/caching/README.md" class="sidebar-item sidebar-heading" aria-label="缓存"><!--[--><!--]--> 缓存 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/knowledge/caching/server_side/README.md" class="sidebar-item" aria-label="服务器端"><!--[--><!--]--> 服务器端 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/knowledge/caching/server_side/redis/" class="sidebar-item" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/knowledge/search_engine/README.md" class="sidebar-item sidebar-heading" aria-label="搜索引擎"><!--[--><!--]--> 搜索引擎 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/knowledge/search_engine/elasticsearch/" class="router-link-active sidebar-item" aria-label="Elasticsearch"><!--[--><!--]--> Elasticsearch <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">容器化与虚拟化 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/knowledge/containerization/docker/" class="sidebar-item" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/knowledge/graphql/README.md" class="sidebar-item sidebar-heading" aria-label="GraphQL"><!--[--><!--]--> GraphQL <!--[--><!--]--></a><!----></li><li><a href="/knowledge/graph_database/README.md" class="sidebar-item sidebar-heading" aria-label="图数据库"><!--[--><!--]--> 图数据库 <!--[--><!--]--></a><!----></li><li><a href="/knowledge/web_server/README.md" class="sidebar-item sidebar-heading" aria-label="Web 服务器"><!--[--><!--]--> Web 服务器 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/knowledge/web_server/nginx/" class="sidebar-item" aria-label="nginx"><!--[--><!--]--> nginx <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/knowledge/scalability/README.md" class="sidebar-item sidebar-heading" aria-label="大规模构建"><!--[--><!--]--> 大规模构建 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/knowledge/scalability/migration_strategies/" class="sidebar-item" aria-label="迁移策略"><!--[--><!--]--> 迁移策略 <!--[--><!--]--></a><!----></li><li><a href="/knowledge/scalability/understand_diff/" class="sidebar-item" aria-label="了解差异"><!--[--><!--]--> 了解差异 <!--[--><!--]--></a><!----></li><li><a href="/knowledge/scalability/horizontal_vs_vertical_scaling/" class="sidebar-item" aria-label="水平扩展 &amp; 垂直扩展"><!--[--><!--]--> 水平扩展 &amp; 垂直扩展 <!--[--><!--]--></a><!----></li><li><a href="/knowledge/scalability/observability/" class="sidebar-item" aria-label="可观察性"><!--[--><!--]--> 可观察性 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="kibana" tabindex="-1"><a class="header-anchor" href="#kibana" aria-hidden="true">#</a> Kibana</h1><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h2><p>如果你已经参考过之前的文章，已经安装了 <a href="/knowledge/search_engine/elasticsearch/" class="">ElasticSearch</a>。那么可以略过配置源的部分。</p><h3 id="配置-elastic-pgp-公钥和源" tabindex="-1"><a class="header-anchor" href="#配置-elastic-pgp-公钥和源" aria-hidden="true">#</a> 配置 Elastic PGP 公钥和源</h3><p>请参考 <a href="/knowledge/search_engine/elasticsearch/" class="">Elasticsearch</a> 的 <code>Elasticsearch PGP 公钥和源</code> 章节。</p><h3 id="安装-kibana" tabindex="-1"><a class="header-anchor" href="#安装-kibana" aria-hidden="true">#</a> 安装 Kibana</h3><p>直接进行安装命令：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> kibana
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这样就安装好了。</p><h2 id="kibana-命令管理" tabindex="-1"><a class="header-anchor" href="#kibana-命令管理" aria-hidden="true">#</a> Kibana 命令管理</h2><p>我们可以使用 <code>systemd</code> 方式进行 Kibana 进行管理</p><h3 id="systemd" tabindex="-1"><a class="header-anchor" href="#systemd" aria-hidden="true">#</a> <code>systemd</code></h3><p>设置开机启动：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl daemon-reload
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> kibana
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>启动：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl start kibana
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>关闭：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl stop kibana
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看状态：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl status kibana
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>然后在浏览器中使用 http://localhost:5601 访问。</p><h2 id="访问配置" tabindex="-1"><a class="header-anchor" href="#访问配置" aria-hidden="true">#</a> 访问配置</h2><p>访问后提示需要提供 <code>Enrollment token</code>，可以执行如下命令获取 <code>token</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> /usr/share/elasticsearch/bin/elasticsearch-create-enrollment-token -s kibana
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>在获取 token 时可能会出现如下错误：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> /usr/share/elasticsearch/bin/elasticsearch-create-enrollment-token -s kibana
ERROR: <span class="token punctuation">[</span>xpack.security.enrollment.enabled<span class="token punctuation">]</span> must be <span class="token builtin class-name">set</span> to <span class="token variable"><span class="token variable">`</span><span class="token boolean">true</span><span class="token variable">`</span></span> to create an enrollment token
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>解决方案为：在 <code>/etc/elasticsearch/elasticsearch.yml</code></p></blockquote><p>将获取到的 token 粘贴到刚刚在浏览器中打开的网页的 input 输入框中。</p><p>点击 <code>Configure Elastic</code> 按钮，接着出现一个弹出框，要求输入 <code>Verification required</code> 的 <code>code</code>。</p><p>接着执行如下命令获取 <code>code</code>：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">sudo</span> /usr/share/kibana/bin/kibana-verification-code 
Your verification code is:  <span class="token number">756</span> <span class="token number">267</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>点击 <code>verify</code> 验证输入的六位数验证码是否正确。接着跳转到一个登录页面，输入 Es 的用户名和密码。还记得安装 ElasticSearch 中出现的密码吗？</p><h2 id="kibana-配置文件" tabindex="-1"><a class="header-anchor" href="#kibana-配置文件" aria-hidden="true">#</a> Kibana 配置文件</h2><p>Kibana 默认加载的配置文件位置为 <code>/etc/kibana/kibana.yml</code>，关于配置文件的具体解释可以参考<a href="https://www.elastic.co/guide/en/kibana/8.1/settings.html" target="_blank" rel="noopener noreferrer">配置 Kibana<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>这里只介绍一个，就是 <code>i18n.locale</code>。它的位置在最后一行。</p><p>我们修改配置值如下：</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">i18n.locale</span><span class="token punctuation">:</span> <span class="token string">&quot;zh-CN&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>然后重启 kibana。然后就可以看到是中文界面了。这样看着总比英文舒服。</p><h2 id="目录布局" tabindex="-1"><a class="header-anchor" href="#目录布局" aria-hidden="true">#</a> 目录布局</h2><table><thead><tr><th>类型</th><th>描述</th><th>默认路径</th><th>设置</th></tr></thead><tbody><tr><td><strong>home</strong></td><td>Kibana home 目录或者 <code>$KIBANA_HOME</code></td><td><code>/usr/share/kibana</code></td><td></td></tr><tr><td><strong>bin</strong></td><td>二进制脚本，包括 <code>kibana</code> 去启动节点和 <code>kibana-plugin</code> 安装插件</td><td><code>/usr/share/kibana/bin</code></td><td></td></tr><tr><td><strong>config</strong></td><td>配置文件，包含 <code>kibana.yml</code></td><td><code>/etc/kibana</code></td><td><code>[KBN_PATH_CONF](https://www.elastic.co/guide/en/kibana/7.14/settings.html)</code></td></tr><tr><td><strong>data</strong></td><td>Kibana和它的插件写入到磁盘的数据文件位置</td><td><code>/var/lib/kibana</code></td><td><code>path.data</code></td></tr><tr><td><strong>logs</strong></td><td>日志文件位置。</td><td><code>/var/log/kibana</code></td><td><code>path.logs</code></td></tr><tr><td><strong>plugins</strong></td><td>插件文件位置. 每个插件将包含在一个子目录中.</td><td><code>/usr/share/kibana/plugins</code></td><td></td></tr></tbody></table><p>这样，Kibana 的安装就算是介绍完成了。</p><h2 id="更多" tabindex="-1"><a class="header-anchor" href="#更多" aria-hidden="true">#</a> 更多</h2><p>如果查看 Kibana log 发现如下错误：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;ecs&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;version&quot;</span><span class="token operator">:</span><span class="token string">&quot;8.0.0&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;@timestamp&quot;</span><span class="token operator">:</span><span class="token string">&quot;2022-05-23T16:32:09.369+08:00&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;connect ECONNREFUSED 192.168.1.12:9200&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;error&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;connect ECONNREFUSED 192.168.1.12:9200&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;ConnectionError&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;stack_trace&quot;</span><span class="token operator">:</span>&quot;ConnectionError<span class="token operator">:</span> connect ECONNREFUSED <span class="token number">192.168</span>.<span class="token number">1.12</span><span class="token operator">:</span><span class="token number">9200</span>
    at KibanaTransport.request (/usr/share/kibana/node_modules/@elastic/transport/lib/Transport.js<span class="token operator">:</span><span class="token number">525</span><span class="token operator">:</span><span class="token number">31</span>)
    at runMicrotasks (&lt;anonymous&gt;)
    at processTicksAndRejections (node<span class="token operator">:</span>internal/process/task_queues<span class="token operator">:</span><span class="token number">96</span><span class="token operator">:</span><span class="token number">5</span>)
    at KibanaTransport.request (/usr/share/kibana/src/core/server/elasticsearch/client/create_transport.js<span class="token operator">:</span><span class="token number">58</span><span class="token operator">:</span><span class="token number">16</span>)
    at ClientTraced.GetApi <span class="token punctuation">[</span>as get<span class="token punctuation">]</span> (/usr/share/kibana/node_modules/@elastic/elasticsearch/lib/api/api/get.js<span class="token operator">:</span><span class="token number">36</span><span class="token operator">:</span><span class="token number">12</span>)
    at SessionIndex.get (/usr/share/kibana/x-pack/plugins/security/server/session_management/session_index.js<span class="token operator">:</span><span class="token number">129</span><span class="token operator">:</span><span class="token number">11</span>)
    at Session.get (/usr/share/kibana/x-pack/plugins/security/server/session_management/session.js<span class="token operator">:</span><span class="token number">89</span><span class="token operator">:</span><span class="token number">31</span>)
    at Authenticator.getSessionValue (/usr/share/kibana/x-pack/plugins/security/server/authentication/authenticator.js<span class="token operator">:</span><span class="token number">461</span><span class="token operator">:</span><span class="token number">34</span>)
    at Authenticator.authenticate (/usr/share/kibana/x-pack/plugins/security/server/authentication/authenticator.js<span class="token operator">:</span><span class="token number">259</span><span class="token operator">:</span><span class="token number">34</span>)
    at /usr/share/kibana/x-pack/plugins/security/server/authentication/authentication_service.js<span class="token operator">:</span><span class="token number">87</span><span class="token operator">:</span><span class="token number">36</span>
    at Object.interceptAuth <span class="token punctuation">[</span>as authenticate<span class="token punctuation">]</span> (/usr/share/kibana/src/core/server/http/lifecycle/auth.js<span class="token operator">:</span><span class="token number">90</span><span class="token operator">:</span><span class="token number">22</span>)
    at exports.Manager.execute (/usr/share/kibana/node_modules/@hapi/hapi/lib/toolkit.js<span class="token operator">:</span><span class="token number">60</span><span class="token operator">:</span><span class="token number">28</span>)
    at module.exports.internals.Auth._authenticate (/usr/share/kibana/node_modules/@hapi/hapi/lib/auth.js<span class="token operator">:</span><span class="token number">273</span><span class="token operator">:</span><span class="token number">30</span>)
    at Request._lifecycle (/usr/share/kibana/node_modules/@hapi/hapi/lib/request.js<span class="token operator">:</span><span class="token number">371</span><span class="token operator">:</span><span class="token number">32</span>)
    at Request._execute (/usr/share/kibana/node_modules/@hapi/hapi/lib/request.js<span class="token operator">:</span><span class="token number">281</span><span class="token operator">:</span><span class="token number">9</span>)&quot;
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;log&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;level&quot;</span><span class="token operator">:</span><span class="token string">&quot;ERROR&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;logger&quot;</span><span class="token operator">:</span><span class="token string">&quot;http.server.Kibana&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;process&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;pid&quot;</span><span class="token operator">:</span><span class="token number">24470</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;trace&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;64c5cfd488e556f3da7cf87ce3cd2359&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;transaction&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;41f4118215932d84&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以使用 <a href="/knowledge/search_engine/elasticsearch/" class="">Elasticsearch</a> 中的 <code>修复监听 IP 配置</code> 章节的内容修复。</p></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: baoguoxiao0538@hotmail.com">mowangjuanzi</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.57e67b55.js" defer></script>
  </body>
</html>
